++ 可扩展菜单

编辑器菜单属于共享的呈现模块，它为其他模块的命令和有状态命令提供简单呈现。

rel://files/png.png

菜单的特点如下：
        * 有层级关系。即一级菜单、二级菜单等等
        * 支持简单状态。即单选菜单项、复选菜单项等
        * 命令状态变更时，可得到通知。


+++多种类型的菜单项
标注格式：
项目名称："菜单项名称"
项目类型：命令/状态/选项        
        
+++多级菜单的实现
依赖模块将自己的命令注册进菜单的时候，可以提供一条表示菜单项位置的信息。
格式如下：
插入层级：{"一级菜单","二级菜单",...,"目标菜单级"}

+++命令变更的通知
类型为”命令“的菜单项没有变更通知的需要，”状态“和”选项“类型的菜单项都需要变更通知。
变更通知不使用动态消息订阅，因为这里几乎没有可变性。因此采取更加直接的委托来实现。
注册命令时，菜单模块返回给注册模块一个针对新菜单项的通知委托。注册模块负责维护这个委托，通常它会直接调用该委托。
考虑到注册模块可能存在于不同于菜单模块的线程中，因此在菜单模块内对UI的操作要提供线程安全的方法。

+++命令分组
使用横线将命令分组，提高命令的可读性。
项目分组：分组名称



